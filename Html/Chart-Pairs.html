<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Portfolio Chart - Scaled 2/3</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a1a;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 15px;
            color: #fff;
        }

        .container { max-width: 400px; width: 100%; }

        .chart-wrapper {
            position: relative;
            width: 267px;
            height: 267px;
            margin: 0 auto;
        }

        .chart-container-pairs { position: relative; width:100%; height:100%; }

        .chart-container-pairs svg { transform: rotate(-90deg); }

        .chart-center {
            position: absolute;
            top:50%;
            left:50%;
            transform: translate(-50%, -50%);
            text-align:center;
        }

        .total-value-pairs {
            font-size: 34px;
            font-weight:700;
            color:#fff;
            margin-bottom:6px;
            letter-spacing:-0.7px;
        }

        .profit-pairs {
            font-size:12px;
            color:#4dd4ac;
            font-weight:600;
            margin-bottom:8px;
        }

        .tooltip-pairs {
            position: absolute;
            display:flex;
            justify-content:center;
            align-items:center;
            background: rgba(30,30,30,0.95);
            border:1px solid #3a3a3a;
            border-radius:13px;
            padding:2px 10px 2px 2px;
            gap:7px;
            opacity:0;
            pointer-events:none;
            transition: opacity 0.3s ease;
            box-shadow:0 6px 18px rgba(0,0,0,0.4);
            z-index:1;
        }

        .tooltip-pairs.show { opacity:1; }

        .tooltip-icon { width:22px; height:22px; border-radius:50%; }

        .tooltip-value-pairs { font-size:11px; color:#fff; font-weight:600; }

        .segment { cursor:pointer; transition: all 0.3s ease; }

        @keyframes fillChart { from { stroke-dashoffset: 628; } }

        circle.segment { animation: fillChart 1.5s ease-out forwards; }
    </style>
</head>
<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="chart-container-pairs">
                <svg width="267" height="267" viewBox="0 0 267 267">
                    <defs>
                        <linearGradient id="btcGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#f7931a"/>
                            <stop offset="100%" stop-color="#ffca3a"/>
                        </linearGradient>
                        <linearGradient id="ethGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#8b7af5"/>
                            <stop offset="100%" stop-color="#5a4fff"/>
                        </linearGradient>
                        <linearGradient id="solGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#4dd4ac"/>
                            <stop offset="100%" stop-color="#00d4ff"/>
                        </linearGradient>
                    </defs>

                    <circle cx="133.5" cy="133.5" r="100" fill="none" stroke="rgba(40,40,40,0.5)" stroke-width="40"/>

                    <circle class="segment" id="btcSegment" cx="133.5" cy="133.5" r="100" fill="none"
                        stroke="url(#btcGradient)" stroke-width="40" stroke-dasharray="0 628" stroke-linecap="butt"/>
                    <circle class="segment" id="ethSegment" cx="133.5" cy="133.5" r="100" fill="none"
                        stroke="url(#ethGradient)" stroke-width="40" stroke-dasharray="0 628" stroke-linecap="butt"/>
                    <circle class="segment" id="solSegment" cx="133.5" cy="133.5" r="100" fill="none"
                        stroke="url(#solGradient)" stroke-width="40" stroke-dasharray="0 628" stroke-linecap="butt"/>
                </svg>

                <div class="chart-center">
                    <div class="total-value-pairs">$50,925</div>
                    <div class="profit-pairs">+$2,733 (5.67%)</div>
                </div>

                <div class="tooltip-pairs" id="btcTooltip">
                    <img class="tooltip-icon" src="../Asset/btc.png">
                    <div class="tooltip-value-pairs">46%</div>
                </div>

                <div class="tooltip-pairs" id="ethTooltip">
                    <img class="tooltip-icon" src="../Asset/eth.png">
                    <div class="tooltip-value-pairs">32%</div>
                </div>

                <div class="tooltip-pairs" id="solTooltip">
                    <img class="tooltip-icon" src="../Asset/sol.png">
                    <div class="tooltip-value-pairs">22%</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const cryptoData = { btc:12, eth:76, sol:12 };
        const circumference = 2 * Math.PI * 100;

        function updateChartPairs() {
            const btcLength = (cryptoData.btc / 100) * circumference;
            const ethLength = (cryptoData.eth / 100) * circumference;
            const solLength = (cryptoData.sol / 100) * circumference;

            const btcSegment = document.getElementById('btcSegment');
            btcSegment.style.strokeDasharray = `${btcLength} ${circumference}`;
            btcSegment.style.strokeDashoffset = '0';

            const ethSegment = document.getElementById('ethSegment');
            ethSegment.style.strokeDasharray = `${ethLength} ${circumference}`;
            ethSegment.style.strokeDashoffset = -btcLength;

            const solSegment = document.getElementById('solSegment');
            solSegment.style.strokeDasharray = `${solLength} ${circumference}`;
            solSegment.style.strokeDashoffset = -(btcLength + ethLength);
        }

        function getTooltipPosition(percentage, offset) {
            const angle = ((offset + percentage/2)/100)*2*Math.PI - Math.PI/2;
            const radius = 120;
            const x = 133.5 + radius * Math.cos(angle);
            const y = 133.5 + radius * Math.sin(angle);
            return { x, y };
        }

        function setupTooltips() {
            const btcPos = getTooltipPosition(cryptoData.btc, 0);
            const ethPos = getTooltipPosition(cryptoData.eth, cryptoData.btc);
            const solPos = getTooltipPosition(cryptoData.sol, cryptoData.btc + cryptoData.eth);

            document.getElementById('btcTooltip').style.left = btcPos.x+'px';
            document.getElementById('btcTooltip').style.top = btcPos.y+'px';
            document.getElementById('btcTooltip').style.transform = 'translate(-50%, -50%)';

            document.getElementById('ethTooltip').style.left = ethPos.x+'px';
            document.getElementById('ethTooltip').style.top = ethPos.y+'px';
            document.getElementById('ethTooltip').style.transform = 'translate(-50%, -50%)';

            document.getElementById('solTooltip').style.left = solPos.x+'px';
            document.getElementById('solTooltip').style.top = solPos.y+'px';
            document.getElementById('solTooltip').style.transform = 'translate(-50%, -50%)';
        }

        function showTooltips() {
            setTimeout(() => {
                document.getElementById('btcTooltip').classList.add('show');
                document.getElementById('ethTooltip').classList.add('show');
                document.getElementById('solTooltip').classList.add('show');
            }, 1000);
        }

        ['btcSegment','ethSegment','solSegment'].forEach(id=>{
            const el=document.getElementById(id);
            el.addEventListener('mouseenter',()=>el.style.filter='brightness(1.2)');
            el.addEventListener('mouseleave',()=>el.style.filter='brightness(1)');
        });

        updateChartPairs();
        setupTooltips();
        showTooltips();

        function setCryptoData(btc, eth, sol){
            cryptoData.btc=btc; cryptoData.eth=eth; cryptoData.sol=sol;
            updateChartPairs(); setupTooltips();
            document.querySelector('#btcTooltip .tooltip-value-pairs').textContent=btc+'%';
            document.querySelector('#ethTooltip .tooltip-value-pairs').textContent=eth+'%';
            document.querySelector('#solTooltip .tooltip-value-pairs').textContent=sol+'%';
        }
    </script>
</body>
</html>
